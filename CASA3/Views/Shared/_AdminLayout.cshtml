<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>@ViewData["Title"] - Admin - Casa III</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="~/css/font-awesome.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .admin-sidebar {
            background: linear-gradient(180deg, #1a3837 0%, #1E403F 15%, #1E403F 85%, #162d2c 100%);
            box-shadow: 4px 0 24px rgba(0,0,0,0.08);
        }
        .admin-sidebar::before {
            content: '';
            position: absolute;
            inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.02' fill-rule='evenodd'%3E%3Cpath d='M0 20h40v20H0V20zm20 0h20V0H20v20zM0 0h20v20H0V0z'/%3E%3C/g%3E%3C/svg%3E");
            pointer-events: none;
        }
        .admin-nav-link {
            position: relative;
            border-left: 3px solid transparent;
        }
        .admin-nav-link:hover, .admin-nav-link.active {
            background: rgba(255,255,255,0.06);
            border-left-color: #b39359;
        }
        .admin-nav-link:hover .admin-nav-icon {
            color: #b39359;
        }
        .admin-gold-line {
            height: 2px;
            background: linear-gradient(90deg, transparent, #b39359, transparent);
            opacity: 0.6;
        }
        .admin-main {
            background: #faf9f7;
            background-image:
                radial-gradient(ellipse 120% 80% at 100% 0%, rgba(179,147,89,0.03) 0%, transparent 50%),
                radial-gradient(ellipse 80% 60% at 0% 100%, rgba(30,64,63,0.04) 0%, transparent 50%);
        }
        .admin-brand-img-wrap {
            flex-shrink: 0;
            width: 52px;
            height: 52px;
            border-radius: 12px;
            overflow: hidden;
            border: 2px solid rgba(179,147,89,0.4);
            background: rgba(255,255,255,0.08);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .admin-brand-img-wrap img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 4px;
        }
        .admin-hero-thumb {
            height: 72px;
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.12);
            box-shadow: 0 4px 16px rgba(0,0,0,0.2);
        }
        .admin-hero-thumb img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    </style>
</head>
<body class="min-h-screen flex antialiased" style="font-family: 'Montserrat', sans-serif;">
    <!-- Sidebar -->
    <aside class="admin-sidebar w-64 text-white flex-shrink-0 min-h-screen flex flex-col relative z-10">
        <!-- Logo, branding & real estate image -->
        <div class="relative px-5 pt-6 pb-4">
            <a asp-controller="Admin" asp-action="Index" class="flex items-center gap-4 group">
                <div class="admin-brand-img-wrap">
                    <img src="~/images/logo.png" alt="Casa III" asp-append-version="true" />
                </div>
                <div class="min-w-0 flex-1">
                    <span class="block text-xl font-semibold tracking-tight text-white truncate" style="font-family: 'Cormorant Garamond', serif;">Casa III</span>
                    <span class="block mt-0.5 text-[10px] uppercase tracking-[0.22em] text-white/70 group-hover:text-[#b39359] transition-colors">Realty Â· Admin</span>
                </div>
            </a>
            <div class="mt-4 admin-hero-thumb">
                <img src="~/images/banners/banner-1.jpg" alt="" asp-append-version="true" />
            </div>
        </div>
        <div class="admin-gold-line mx-5 mb-5 w-12"></div>

        <!-- Navigation -->
        <nav class="flex-1 px-4 space-y-0.5">
            <a asp-controller="Admin" asp-action="Index" class="admin-nav-link flex items-center gap-3 px-4 py-3.5 rounded-r-lg text-white/90 transition-all duration-200">
                <i class="admin-nav-icon fa fa-dashboard fa-fw w-5 text-center text-white/70 transition-colors duration-200"></i>
                <span class="text-sm font-medium tracking-wide">Dashboard</span>
            </a>
            <a asp-controller="Admin" asp-action="Staffs" class="admin-nav-link flex items-center gap-3 px-4 py-3.5 rounded-r-lg text-white/90 transition-all duration-200">
                <i class="admin-nav-icon fa fa-users fa-fw w-5 text-center text-white/70 transition-colors duration-200"></i>
                <span class="text-sm font-medium tracking-wide">Staff &amp; Team</span>
            </a>
            <a asp-controller="Admin" asp-action="Projects" class="admin-nav-link flex items-center gap-3 px-4 py-3.5 rounded-r-lg text-white/90 transition-all duration-200">
                <i class="admin-nav-icon fa fa-building fa-fw w-5 text-center text-white/70 transition-colors duration-200"></i>
                <span class="text-sm font-medium tracking-wide">Projects</span>
            </a>
        </nav>

        <!-- Footer actions -->
        <div class="p-4 pt-0">
            <div class="admin-gold-line mx-4 mb-4 w-8"></div>
            <a asp-controller="Home" asp-action="Index" class="flex items-center gap-3 px-4 py-3 rounded-r-lg text-white/70 hover:bg-white/5 hover:text-white/90 transition-all text-sm">
                <i class="fa fa-external-link fa-fw w-5 text-center"></i>
                <span>Back to site</span>
            </a>
            <form asp-controller="Account" asp-action="Logout" method="post" class="block">
                <button type="submit" class="flex items-center gap-3 px-4 py-3 rounded-r-lg text-white/70 hover:bg-white/5 hover:text-white/90 transition-all w-full text-left text-sm">
                    <i class="fa fa-sign-out fa-fw w-5 text-center"></i>
                    <span>Sign out</span>
                </button>
            </form>
        </div>
    </aside>

    <!-- Main content -->
    <main class="admin-main flex-1 overflow-auto min-h-screen">
        @RenderBody()
    </main>
    <script src="~/js/jquery-3.5.1.min.js"></script>
    <script>
        (function() {
            var path = (window.location.pathname || '').toLowerCase();
            var links = document.querySelectorAll('.admin-nav-link');
            links.forEach(function(link) {
                var href = (link.getAttribute('href') || '').toLowerCase();
                var isActive = false;
                if (href.indexOf('/admin/staffs') !== -1) isActive = path.indexOf('/admin/staffs') !== -1;
                else if (href.indexOf('/admin/projects') !== -1) isActive = path.indexOf('/admin/projects') !== -1;
                else if (href.indexOf('/admin') !== -1) isActive = path === '/admin' || path === '/admin/' || path === '/admin/index';
                if (isActive) link.classList.add('active');
            });
        })();
    </script>
    @RenderSection("Scripts", required: false)
</body>
</html>
